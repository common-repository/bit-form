var Ge=Object.defineProperty,Ee=Object.defineProperties;var Be=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var Se=(t,a,i)=>a in t?Ge(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i,C=(t,a)=>{for(var i in a||(a={}))Ve.call(a,i)&&Se(t,i,a[i]);if(Ce)for(var i of Ce(a))qe.call(a,i)&&Se(t,i,a[i]);return t},Q=(t,a)=>Ee(t,Be(a));import{r as y,u as q,a as S,j as e,I,_ as s,S as $,C as Z,b as D,L as R,$ as B,c as A,d as te,T as K,e as Le,f as Oe,g as H,h as E,i as He,k as ie,l as de,m as ee,E as De,n as Re,o as $e,p as ze,R as Ye,q as se,s as me,t as F,v as X,B as O,w as We,x as Xe,y as Ke,z as Je,A as _e,N as V,D as Qe}from"./main-700.js";import{u as J}from"./bf-212-75.js";import{T as he,a as pe,b as Y,c as W,d as oe,S as Ze}from"./bf-420-76.js";import{P as es}from"./bf-910-77.js";import{s as ss,a as P}from"./bf-925-78.js";import{L as ts}from"./bf-761-79.js";import{G as as}from"./bf-388-80.js";import{M as ns,P as ls}from"./bf-589-81.js";import{R as rs}from"./bf-582-82.js";import{C as L}from"./bf-916-83.js";import{p as is,f as re}from"./bf-960-84.js";import"./bf-497-85.js";const cs=()=>{if(!I)return;const t=new Uint32Array(4);return window.crypto.getRandomValues(t),(performance.now().toString(36)+Array.from(t).map(a=>a.toString(36)).join("")).replace(/\./g,"")};function os(){const[t,a]=y.useState(""),i=q(B),{siteURL:x}=i,[m,f]=y.useState({show:!1}),[b,r]=y.useState(!1),{css:o}=S(),{mutate:j}=J("bitforms_api_key",{},{fetchCondition:I,onSuccess:N=>a(N)}),d=()=>{if(!I)return;r(!0);const N=A({api_key:t},"bitforms_api_key").then(l=>(r(!1),l!=null&&l.success?(a(l.data),j(l.data),s("API key saved successfully")):(l==null?void 0:l.data)||s("Error Occured")));te.promise(N,{success:l=>l,failed:l=>l,loading:s("Saving API key...")})},p=()=>{a(cs())};return e.jsx("div",{className:"btcd-captcha w-5",children:e.jsxs("div",{className:"pos-rel",children:[!I&&e.jsx("div",{className:"pro-blur flx",style:{height:"135%",left:-12,width:"104%",marginTop:10},children:e.jsx("div",{className:"pro",children:e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsx("span",{className:"txt-pro",children:s("Available On Pro")})})})}),e.jsx($,{snack:m,setSnackbar:f}),e.jsx("h2",{children:s("API Integration")}),e.jsx("div",{className:"btcd-hr"}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"captcha-key",children:[s("Domain URL"),e.jsx(Z,{value:x,name:"domainURL",setSnackbar:f,className:"field-key-cpy w-12 ml-0",readOnly:!0})]})}),e.jsx("div",{className:"mt-3",children:e.jsxs("label",{htmlFor:"captcha-key",children:[s("API Key"),e.jsx(Z,{value:t,name:"siteKey",setSnackbar:f,className:"field-key-cpy w-12 ml-0",readOnly:!0}),e.jsx("span",{className:"btcd-link",role:"button",tabIndex:"-1",onClick:p,onKeyDown:p,children:s("Generate new API key")})]})}),e.jsxs("button",{type:"button",onClick:N=>d(),className:`${o(D.btn)} btn-md f-right blue`,disabled:b,children:[s("Save"),b&&e.jsx(R,{size:20,clr:"#fff",className:"ml-2"})]})]})})}function ds({settab:t,types:a}){const[i,x]=y.useState({show:!1}),{css:m}=S(),[f,b]=y.useState({public:1,public_queryable:1,show_in_rest:1,show_in_menu:1,show_ui:1}),[r,o]=y.useState(!1),j=y.useRef(null),d=l=>{if(l.preventDefault(),!I)return;const w=new FormData(j.current);o(!0),A(w,"bitforms_add_post_type").then(n=>{n!==void 0&&n.success&&(x({show:!0,msg:s("CPT added successfully, refresh your window")}),document.getElementById("form").reset()),o(!1)})},p=(l,w)=>{const n=C({},f);l.target.checked&&w==="check"?n[l.target.name]=1:n[l.target.name]=0,w==="text"&&(n[l.target.name]=l.target.value),b(n)},N=l=>{a.find(n=>n===l)&&(document.getElementById("slug").value="",alert("Slug already exists"))};return e.jsxs(e.Fragment,{children:[e.jsx($,{snack:i,setSnackbar:x}),e.jsxs("form",{method:"POST",id:"form",onSubmit:d,ref:j,onKeyDown:l=>{l.key==="Enter"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()},children:[e.jsx("div",{className:"mt-3",children:e.jsxs("label",{htmlFor:"slug",children:[e.jsx("b",{children:s("Post Type Slug *")}),e.jsx("input",{id:"slug",name:"slug",onChange:l=>N(l.target.value),className:"btcd-paper-inp mt-1",placeholder:"(e.g. slug)",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"singular_label",children:[e.jsx("b",{children:s("Singular Label *")}),e.jsx("input",{id:"singular_label",name:"singular_label",className:"btcd-paper-inp mt-1",placeholder:"(e.g. Video)",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"menu_name",children:[e.jsx("b",{children:s("Menu Name *")}),e.jsx("input",{id:"menu_name",name:"menu_name",className:"btcd-paper-inp mt-1",placeholder:"(e.g. My Videos)",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"menu_icon",children:[e.jsx("b",{children:s("Menu Icon ")}),e.jsx("input",{id:"menu_icon",name:"menu_icon",className:"btcd-paper-inp mt-1",style:{marginBottom:6},placeholder:"(e.g. dashicons-admin-site-alt)",type:"text"}),e.jsxs("small",{className:"mt-1",children:[e.jsxs("a",{className:"btcd-link",target:"blank",href:"https://developer.wordpress.org/resource/dashicons/#admin-site-alt",children:["Dashicon class name"," "]}),"to use for icon."]})]})}),e.jsxs("div",{className:"d-flx flx-wrp",children:[e.jsx(K,{onChange:l=>p(l,"check"),checked:!!f.public,className:"wdt-200 mt-4 mr-2",name:"public",value:f.public,title:e.jsx("b",{children:s("Public")}),subTitle:s("This type should be shown in the admin UI and is publicly queryable")}),e.jsx(K,{onChange:l=>p(l,"check"),checked:!!f.public_queryable,className:"wdt-200 mt-4 mr-2",value:f.public_queryable,name:"public_queryable",style:{marginLeft:60},title:e.jsx("b",{children:s("Publicly Queryable")}),subTitle:s("Queries can be performed on the front end as part of parse_request()")}),e.jsx(K,{onChange:l=>p(l,"check"),checked:!!f.show_in_rest,className:"wdt-200 mt-4 mr-2",value:f.show_in_rest,name:"show_in_rest",title:e.jsx("b",{children:s("Show in REST API")}),subTitle:s("To show this post type data in the WP REST API")}),e.jsx(K,{onChange:l=>p(l,"check"),checked:!!f.show_in_menu,className:"wdt-200 mt-4 mr-2",value:f.show_in_menu,name:"show_in_menu",style:{marginLeft:60},title:e.jsx("b",{children:s("Show in Menu")}),subTitle:s("This show the post type in the admin menu and where to show that menu.")}),e.jsx(K,{onChange:l=>p(l,"check"),checked:!!f.show_ui,name:"show_ui",className:"wdt-200 mt-4 mr-2 ",value:f.show_ui,title:e.jsx("b",{children:s("Show UI")}),subTitle:s("Whether or not to generate a default UI for managing this post type")})]}),e.jsxs("button",{type:"submit",className:`${m(D.btn)} btcd-btn-lg blue flx`,disabled:r,children:[s("Add Post Type"),r&&e.jsx(R,{size:20,clr:"#fff",className:"ml-2"})]})]})]})}function ms({slug:t,snack:a,setsnack:i,posts:x}){const[m,f]=y.useState({show:!1}),{css:b}=S(),[r,o]=y.useState(!1),j=()=>{m.show=!1,f(C({},m))},d=N=>{m.show=!0,f(C({},m))},p=N=>{const l=x.filter(w=>w.name!==t);N.preventDefault(),o(!0),j(),N.preventDefault(),A({postData:l},"bitforms_delete_post_type").then(w=>{w!==void 0&&w.success&&i({show:!0,msg:s("Delete successfully, refresh your window")}),o(!1)})};return e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:N=>d(),className:`${b(D.btn)} f-left btcd-btn-lg blue sh-sm flx ml-4`,disabled:r,children:[s("Delete Post Type"),r&&e.jsx(R,{size:20,clr:"#fff",className:"ml-2"})]}),e.jsxs(Le,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"red",btnTxt:"Ok",show:m.show,close:j,action:p,title:s("Confirmation"),children:[e.jsx("div",{className:"txt-center mt-5 mb-4",children:s("Are you sure to delete post type?")}),r&&e.jsx(Oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}})]})]})}function hs({posts:t,types:a}){const[i,x]=y.useState(!1),[m,f]=y.useState(""),[b,r]=y.useState(!1),[o,j]=y.useState({}),[d,p]=y.useState({show:!1}),N=y.useRef(null),{css:l}=S(),w=c=>{f(c);const h=t==null?void 0:t.find(v=>v.name===c);x(!0),j(h)},n=c=>{c.preventDefault();const h=new FormData(N.current);r(!0),c.preventDefault(),A(h,"bitforms_update_post_type").then(v=>{v!==void 0&&v.success&&p({show:!0,msg:s("cpt type update successfully, refresh your window")}),r(!1)})},u=(c,h)=>{const v=C({},o);c.target.checked&&h==="check"?v[c.target.name]=1:v[c.target.name]=0,h==="text"&&(v[c.target.name]=c.target.value),j(v)};return e.jsxs("div",{children:[e.jsx($,{snack:d,setSnackbar:p}),e.jsxs("form",{method:"POST",onSubmit:n,ref:N,onKeyDown:c=>{c.key==="Enter"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()},children:[e.jsx("div",{className:"mt-2",children:e.jsx("b",{children:s("Post Type")})}),e.jsxs("select",{name:"post_type",className:"btcd-paper-inp mt-1",onChange:c=>w(c.target.value),value:m,children:[e.jsx("option",{disabled:!0,value:"",children:s("Select Type *")}),Object.values(a).map((c,h)=>e.jsx("option",{value:c,children:c},`k${h*43}`))]}),i&&e.jsxs("div",{children:[e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"slug",children:[s("Post Type Slug *"),e.jsx("input",{id:"name",name:"name",className:"btcd-paper-inp mt-1",onChange:c=>u(c,"text"),placeholder:"",value:o==null?void 0:o.name,type:"text",readOnly:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"singular_label",children:[s("Singular Label *"),e.jsx("input",{id:"singular_label",name:"singular_label",className:"btcd-paper-inp mt-1",onChange:c=>u(c,"text"),value:o==null?void 0:o.singular_label,placeholder:"(e.g. Video)",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"singular_label",children:[s("Menu Name *"),e.jsx("input",{id:"menu_name",name:"menu_name",onChange:c=>u(c,"text"),value:o==null?void 0:o.menu_name,className:"btcd-paper-inp mt-1",placeholder:"(e.g. My Videos)",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"singular_label",children:[s("Menu Icon *"),e.jsx("input",{id:"menu_icon",name:"menu_icon",onChange:c=>u(c,"text"),value:o==null?void 0:o.menu_icon,className:"btcd-paper-inp mt-1",placeholder:"",type:"text"}),e.jsxs("span",{className:"mt-1",children:[e.jsx("a",{target:"blank",href:"https://developer.wordpress.org/resource/dashicons/#admin-site-alt",children:"Dashicon class name "})," ","to use for icon."]})]})}),e.jsxs("div",{className:"d-flx flx-wrp",children:[e.jsx(K,{onChange:c=>u(c,"check"),checked:(o==null?void 0:o.public)===1,className:"wdt-200 mt-4 mr-2",name:"public",value:o==null?void 0:o.public,title:s("public"),subTitle:s("Posts of this type should be shown in the admin UI and is publicly queryable")}),e.jsx(K,{onChange:c=>u(c,"check"),checked:(o==null?void 0:o.public_queryable)===1,className:"wdt-200 mt-4 mr-2",value:o==null?void 0:o.public_queryable,name:"public_queryable",style:{marginLeft:60},title:s("Publicly Queryable"),subTitle:s("Queries can be performed on the front end as part of parse_request()")})]}),e.jsxs("div",{className:"d-flx flx-wrp",children:[e.jsx(K,{onChange:c=>u(c,"check"),checked:(o==null?void 0:o.show_in_rest)===1,className:"wdt-200 mt-4 mr-2",value:o==null?void 0:o.show_in_rest,name:"show_in_rest",title:s("Show in REST API"),subTitle:s("To show this post type data in the WP REST API")}),e.jsx(K,{onChange:c=>u(c,"check"),checked:(o==null?void 0:o.show_in_menu)===1,className:"wdt-200 mt-4 mr-2",value:o==null?void 0:o.show_in_menu,name:"show_in_menu",style:{marginLeft:60},title:s("Show in Menu"),subTitle:s("This show the post type in the admin menu and where to show that menu")})]}),e.jsx("div",{className:"d-flx flx-wrp",children:e.jsx(K,{onChange:c=>u(c,"check"),checked:(o==null?void 0:o.show_ui)===1,name:"show_ui",className:"wdt-200 mt-4 mr-2 ",value:o==null?void 0:o.show_ui,title:s("Show UI"),subTitle:s("Generate a default UI for managing this post type")})}),e.jsxs("div",{className:"d-flx flx-wrp",children:[e.jsxs("button",{type:"submit",className:`${l(D.btn)} f-left btcd-btn-lg blue sh-sm flx`,disabled:b,children:[s("Update Post Type"),b&&e.jsx(R,{size:20,clr:"#fff",className:"ml-2"})]}),"  ",e.jsx(ms,{slug:m,stack:d,setsnack:p,posts:t})]})]})]})]})}function ps(){const[t,a]=y.useState([]),[i,x]=y.useState([]);return J("bitforms_getAll_post_type",{},{fetchCondition:I,onSuccess:m=>{a(m.all_cpt),x(m.types)}}),e.jsx("div",{className:"p-2 w-6",children:e.jsxs("div",{className:"pos-rel",children:[!I&&e.jsx(es,{}),e.jsxs(he,{selectedTabClassName:"s-t-l-active",children:[e.jsxs(pe,{className:"flx mt-0",children:[e.jsx(Y,{className:"btcd-s-tab-link pb-2",children:e.jsx("b",{children:s("Add New Post Type")})}),e.jsx(Y,{className:"btcd-s-tab-link pb-2",children:e.jsx("b",{children:s("Edit Post Types")})})]}),e.jsx(W,{children:e.jsx(ds,{types:i})}),e.jsx(W,{children:e.jsx(hs,{posts:t,types:i})})]})]})})}function us(){const t=q(B),[a,i]=y.useState({name:"Gclid",type:"Google",clientId:"",clientSecret:"",clientCustomerId:""}),[x,m]=y.useState({show:!1}),[f,b]=y.useState(!1),[r,o]=y.useState({clientId:"",clientSecret:"",clientCustomerId:""}),[j,d]=y.useState(!1),{css:p}=S();J("bitform_google_adword_config",{},{fetchCondition:I,onSuccess:u=>{var c;return((c=u==null?void 0:u[0])==null?void 0:c.integration_details)&&i(JSON.parse(u[0].integration_details))}}),y.useEffect(()=>{window.opener&&ss("gclid")},[]);const N=()=>{if(!I)return!1;if(!a.clientId){o({clientId:a.clientId?"":s("Client ID cann't be empty")});return}if(!a.clientSecret){o({clientSecret:a.clientSecret?"":s("Secret key cann't be empty")});return}if(!a.clientCustomerId){o({clientCustomerId:a.clientCustomerId?"":s("Customer ID key cann't be empty")});return}b(!0);const u=`https://accounts.google.com/o/oauth2/v2/auth?scope=${encodeURIComponent("https://www.googleapis.com/auth/adwords")}&access_type=offline&prompt=consent&response_type=code&state=${encodeURIComponent(window.location.href)}/?&redirect_uri=${encodeURIComponent(t.googleRedirectURL)}&client_id=${a.clientId}`,c=window.open(u,"","width=400,height=609,toolbar=off"),h=setInterval(()=>{const v=localStorage.getItem("__bitforms_gclid");if(c.closed){clearInterval(h);let k={},_=!1;if(v&&(_=!0,k=JSON.parse(v),localStorage.removeItem("__bitforms_gclid")),!k.code||k.error||!k||!_){const M=k.error?`Cause: ${k.error}`:"";m({show:!0,msg:`${s("Authorization failed")} ${M}. ${s("please try again")}`}),b(!1)}else{const M=H(a,ae=>{ae.accountServer=k["accounts-server"]});l("google",k,M,i)}}},500)},l=(u,c,h,v)=>{const k=C({},c);k.clientId=h.clientId,k.clientSecret=h.clientSecret,k.clientCustomerId=h.clientCustomerId,k.redirectURI=`${encodeURIComponent(t.googleRedirectURL)}`,A(k,`bitforms_${u}_generate_token`).then(_=>_).then(_=>{if(_&&_.success){const M=C({},h);M.tokenDetails=_.data,v(M),d(!0),m({show:!0,msg:s("Authorized Successfully")})}else _&&_.data&&_.data.data||!_.success&&typeof _.data=="string"?m({show:!0,msg:`${s("Authorization failed Cause:")}${_.data.data||_.data}. ${s("please try again")}`}):m({show:!0,msg:s("Authorization failed. please try again")});b(!1)})},w=()=>{A(a,"bitforms_save_google_refresh_token").then(u=>u).then(u=>{u&&u.success?m({show:!0,msg:s("save Successfully")}):u&&u.data&&u.data.data||!u.success&&typeof u.data=="string"?m({show:!0,msg:`${s("save failed Cause:")}${u.data.data||u.data}. ${s("please try again")}`}):m({show:!0,msg:s("save failed. please try again")}),b(!1)})},n=(u,c)=>{const h=C({},a);h[u]=c,i(h)};return e.jsx("div",{className:"btcd-captcha w-5",children:e.jsxs("div",{className:"pos-rel",children:[!I&&e.jsx("div",{className:"pro-blur flx",style:{height:"110%",left:-15,width:"104%",top:-3},children:e.jsx("div",{className:"pro",children:e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",s("Available On Pro")]})})})}),e.jsx($,{snack:x,setSnackbar:m}),e.jsx("h2",{children:s("Google Ads")}),e.jsx("br",{}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("label",{htmlFor:"client_id",children:[e.jsx("b",{children:s("Client ID")}),e.jsx("input",{id:"clientId",name:"clientId",onChange:u=>n(u.target.name,u.target.value),value:a.clientId,className:"btcd-paper-inp mt-1",placeholder:"Client ID",type:"text"})]}),e.jsx("div",{style:{color:"red"},children:r.clientId})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("label",{htmlFor:"client_secret",children:[e.jsx("b",{children:s("Client Secret")}),e.jsx("input",{id:"clientSecret",name:"clientSecret",onChange:u=>n(u.target.name,u.target.value),value:a.clientSecret,className:"btcd-paper-inp mt-1",placeholder:"Client Secret",type:"text"})]}),e.jsx("div",{style:{color:"red"},children:r.clientSecret})]}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:s("Authorized Redirect URIs:")})}),e.jsx(Z,{value:`${t.googleRedirectURL}`,className:"field-key-cpy w-12 ml-0"}),e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"d-blk mt-2",children:[s("To get Client ID and SECRET , Please Visit Google API Console")," ",e.jsx("a",{className:"btcd-link",href:"https://console.developers.google.com/apis/credentials",target:"_blank",rel:"noreferrer",children:s("Google API Console")})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{htmlFor:"clientCustomerId",children:[e.jsx("b",{children:s("Customer Id (non manager account)")}),e.jsx("input",{id:"clientCustomerId",name:"clientCustomerId",onChange:u=>n(u.target.name,u.target.value),value:a.clientCustomerId,className:"btcd-paper-inp mt-1",placeholder:"client Customer Id",type:"text"})]}),e.jsx("div",{style:{color:"red"},children:r.clientCustomerId})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"d-blk mt-2",children:[s("To get Customer ID , Please Visit")," ",e.jsx("a",{className:"btcd-link",href:"https://ads.google.com/home/tools/manager-accounts/",target:"_blank",rel:"noreferrer",children:s("Google Ads Manager Account")})]})}),e.jsxs("button",{onClick:N,className:`${p(D.btn)} btcd-btn-lg green sh-sm flx`,type:"button",disabled:j,children:[j?s("Authorized ✔"):s("Authorize"),f&&e.jsx(R,{size:20,clr:"#022217",className:"ml-2"})]}),e.jsx("br",{}),j&&e.jsx("button",{onClick:u=>w(),className:`${p(D.btn)} f-right btcd-btn-lg blue sh-sm flx`,type:"button",disabled:!j,children:"Save"})]})})}function ce({size:t}){return e.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor"}),e.jsx("path",{d:"M11.746.254C5.265.254 0 5.519 0 12c0 6.481 5.265 11.746 11.746 11.746 6.482 0 11.746-5.265 11.746-11.746 0-1.44-.26-2.82-.734-4.097l-.264-.709-1.118 1.118.1.288c.373 1.064.575 2.207.575 3.4a10.297 10.297 0 0 1-10.305 10.305A10.297 10.297 0 0 1 1.441 12 10.297 10.297 0 0 1 11.746 1.695c1.817 0 3.52.47 5.002 1.293l.32.178 1.054-1.053-.553-.316A11.699 11.699 0 0 0 11.746.254zM22.97.841 9.05 14.761 5.328 11.04l-1.031 1.03 4.752 4.753L24 1.872z"})]})}function xs(){const t={cache_plugin:!1,delete_table:!1},[a,i]=y.useState(t),{mutate:x}=J("bitforms_get_generel_settings",{},{onSuccess:d=>i(d)}),[m,f]=E(B),b=d=>{const p=C({},a),N=A({config:p},"bitforms_save_generel_settings").then(l=>{if("success"in l&&l.success)return x(p),"Save successfully done";delete p[d],i(C({},p))}).catch(()=>"Failed to save");te.promise(N,{success:l=>l,failed:l=>l,loading:s("Saving Generel Settings...")})},r=He.useAsyncDebounce(b,500),o=({target:{name:d,checked:p}})=>{const N=C({},a);p?N[d]=!0:delete N[d],i(N),r(d)},j=({target:{checked:d}})=>{A({permission:d},"bitforms_analytics_permission").then(()=>{f(p=>Q(C({},p),{permission:d}))})};return e.jsxs("div",{children:[e.jsx("h2",{children:s("Global Settings")}),e.jsx("div",{className:"w-8 mt-3",children:e.jsxs("div",{className:"flx flx-between sh-sm br-10 btcd-setting-opt",children:[e.jsxs("div",{className:"flx",children:[e.jsx("span",{className:"mr-2",children:e.jsx(ce,{size:"16"})}),e.jsx("b",{children:s("Generate Token after page load to prevent conflict with cache plugins.")})]}),e.jsx(ie,{action:o,name:"cache_plugin",checked:(a==null?void 0:a.cache_plugin)||"",className:"flx"})]})}),e.jsx("div",{className:"w-8 mt-3",children:e.jsxs("div",{className:"flx flx-between sh-sm br-10 btcd-setting-opt",children:[e.jsxs("div",{className:"flx",children:[e.jsx("span",{className:"mr-2",children:e.jsx(ce,{size:"16"})}),e.jsx("b",{children:s("Delete all data table when delete plugin.")})]}),e.jsx(ie,{action:o,name:"delete_table",checked:(a==null?void 0:a.delete_table)||"",className:"flx"})]})}),e.jsx("div",{className:"w-8 mt-3",children:e.jsxs("div",{className:"flx flx-between sh-sm br-10 btcd-setting-opt",children:[e.jsxs("div",{className:"flx",children:[e.jsx("span",{className:"mr-2",children:e.jsx(ce,{size:"16"})}),e.jsx("b",{children:s("Usage Reporting Opt In.")}),e.jsx(ts,{title:"Share Usage report for improve Bit Form.",link:"https://bitapps.pro/terms-of-service/"})]}),e.jsx(ie,{action:j,name:"permission",checked:m.permission,className:"flx"})]})})]})}function bs({size:t}){return e.jsx("svg",{viewBox:"0 0 368 368",height:t,width:t,children:e.jsx("path",{fill:"currentColor",stroke:"currentColor",d:"M88 128H56c-13 0-24 11-24 24v80a8 8 0 1016 0v-24h48v24a8 8 0 1016 0v-80c0-13-11-24-24-24zm8 64H48v-40c0-4 4-8 8-8h32c4 0 8 4 8 8v40zM192 128h-32c-4 0-8 4-8 8v96a8 8 0 1016 0v-24h24a40 40 0 000-80zm0 64h-24v-48h24a24 24 0 010 48zM328 224h-24v-80h24a8 8 0 100-16h-64a8 8 0 100 16h24v80h-24a8 8 0 100 16h64a8 8 0 100-16zM344 48H219l-29-30c-3-3-9-3-12 0l-29 30H24C11 48 0 59 0 72v24a8 8 0 1016 0V72c0-4 4-8 8-8h128l6-2 26-27 26 27 6 2h128c4 0 8 4 8 8v24a8 8 0 1016 0V72c0-13-11-24-24-24zM360 264c-4 0-8 4-8 8v24c0 4-4 8-8 8H216l-6 2-26 27-26-27-6-2H24c-4 0-8-4-8-8v-24a8 8 0 10-16 0v24c0 13 11 24 24 24h125l29 30a8 8 0 0012 0l29-30h125c13 0 24-11 24-24v-24c0-4-4-8-8-8z"})})}function gs({size:t,className:a}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-dollar-sign",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}var Pe=""+new URL("bf-942-8.svg",import.meta.url).href,fs=""+new URL("bf-49-7.svg",import.meta.url).href;function js(){const{css:t}=S(),{pathname:a}=de(),i=q(Re),x=q($e),m=q(ze),[f,b]=y.useState(""),o=[{name:"reCaptcha V2",type:"reCaptchaV2",logo:Pe,path:"reCaptchaV2",siteKey:i==null?void 0:i.siteKey,secretKey:i==null?void 0:i.secretKey},{name:"reCaptcha V3",type:"reCaptchaV3",logo:Pe,path:"reCaptchaV3",siteKey:x==null?void 0:x.siteKey,secretKey:x==null?void 0:x.secretKey},{name:"Turnstile",type:"Cloudflare Turnstile",logo:fs,path:"turnstile",siteKey:m==null?void 0:m.siteKey,secretKey:m==null?void 0:m.secretKey}].filter(d=>d.name.toLowerCase().includes(f)||d.type.toLowerCase().includes(f)),j=d=>{const p=d.length,N=d.substring(0,5),l=d.substring(p-5,p);return`${N}*****${l}`};return e.jsxs("div",{children:[e.jsx("h2",{children:s("reCaptcha Settings")}),e.jsx("div",{className:"btcd-hr"}),e.jsx("input",{"aria-label":"Search...",type:"search",className:"btcd-paper-inp w-5 mt-3",onChange:d=>b(d.target.value.toLowerCase()),placeholder:"Search..."}),e.jsxs("p",{className:t({fs:16}),children:[e.jsx("strong",{children:"Note:"})," ","Please click on the available Captcha option for configuration."]}),e.jsx("div",{className:`pos-rel ${t(P.integWrp,{flx:1,ai:"normal",flxp:1})}`,children:o==null?void 0:o.map((d,p)=>e.jsxs(ee,{to:`${a}/${d.path}`,role:"button",className:t(P.itegCard,{mr:0,w:"32%"}),children:[e.jsx("img",{src:d.logo,alt:d.type,className:t(P.integLogo,{w:60,h:60})}),e.jsxs("div",{title:`${d.name} | ${d.type}`,children:[e.jsx("div",{className:t(P.integTitle),children:d.name}),e.jsx("small",{className:t(P.integSubtitle),children:d.type}),d.siteKey&&e.jsxs("div",{className:t({fs:14}),children:["Site Key:"," ",j(d.siteKey)]}),d.secretKey&&e.jsxs("div",{className:t({fs:14}),children:["Secret Key:"," ",j(d.secretKey)]}),!d.siteKey&&!d.secretKey&&e.jsx("div",{className:t({fs:14,cr:"red"}),children:"Not Configured"})]}),e.jsx("div",{className:`${t(P.actionWrp)} action-wrp`,children:e.jsx(oe,{msg:s("Edit"),children:e.jsx(ee,{to:`${a}/${d.path}`,className:`${t(P.actionBtn)}`,type:"button",children:e.jsx(De,{size:19})})})})]},`captch-${p+3}`))})]})}var ys={recaptchav2:['Go to the <a className="btcd-link" href="https://www.google.com/recaptcha/admin/" target="_blank" rel="noreferrer">Google reCaptcha V2 Admin Dashboard</a>.',"Click on the Register button and add Label.","Choose the type of reCaptcha V2 (either I'm not a robot checkbox or Invisible reCaptcha badge).","Copy Your Domain URL and Goto Google ReCaptcha Dashboard, paste it under Domains.","Click on the Submit button.","You will then see the site key and secret key. Copy both keys and back to Bit form Google reCaptcha Settings to paste them into the corresponding Site Key and Secret Key fields.","Click on the Save button to apply the settings.","Now, Please go to your form and add a Google reCaptcha V2 field.",'For more details, please visit the <a className="btcd-link" href="https://bitapps.pro/docs/bit-form/form-fields/recaptcha-v2-field/" target="_blank" rel="noreferrer">Bit form Google reCaptcha V2 documentation</a> and watch <a className="btcd-link" href="https://youtu.be/U13Kfj9aDMU?si=9nTiCvBWE5AjWZIL" target="_blank" rel="noreferrer">YourTube Video</a>.'],recaptchav3:['Go to the <a className="btcd-link" href="https://www.google.com/recaptcha/admin/" target="_blank" rel="noreferrer">Google reCaptcha V3 Admin Dashboard</a>.',"Click on the Register button and add Label.","Choose the type of reCaptcha V3 (reCaptcha V3).","Copy Your Domain URL and Goto Google ReCaptcha Dashboard, paste it under Domains.","Click on the Submit button.","You will then see the site key and secret key. Copy both keys and back to Bit form Google reCaptcha Settings to paste them into the corresponding Site Key and Secret Key fields.","Click on the Save button to apply the settings.","Now, Please go to your form and add a Google reCaptcha V3 field.",'For more details, please visit the <a className="btcd-link" href="https://bitapps.pro/docs/bit-form/integrations/recaptcha-v3-integrations/" target="_blank" rel="noreferrer">Bit form Google reCaptcha V3 documentation</a> and watch <a className="btcd-link" href="https://youtu.be/oVDp-hAF7pg?si=j-sH91-1MgnTUD94" target="_blank" rel="noreferrer">YourTube Video</a>.'],turnstile:['Go to the <a className="btcd-link" href="https://dash.cloudflare.com/?to=/:account/turnstile" target="_blank" rel="noreferrer">Turnstile Admin Dashboard</a>.',`If you haven't created a Turnstile Site yet, click on the "Add Site" button and fill out the required fields.`,"If you already have a Turnstile Site, click on the Site Name to open the Site Dashboard.","You will then see the site key and secret key. Copy both keys and back to Bit form Turnstile Settings to paste them into the corresponding Site Key and Secret Key fields.",'Click on the "Save" button to apply the settings.',"Now, Please go to your form and add a Turnstile field.",'For more details, please visit the <a className="btcd-link" href="https://bitapps.pro/docs/bit-form/form-fields/cloudflare-turnstile-integrations/" target="_blank" rel="noreferrer">Bit form Turnstile documentation</a>.']};function Me({msg:t,fs:a=18}){const{css:i}=S();return e.jsx("div",{className:i(Te.guide,{fs:a}),children:e.jsx("span",{className:i(Te.pb),children:e.jsx(Ye,{html:s(t)})})})}const Te={main:{mt:"30px",fs:20},guide:{flx:"align-center",mt:5},pb:{pb:7}};function Ue({type:t}){const{css:a}=S(),i=ys[t.toLowerCase()]||[];return e.jsxs("div",{className:a({fs:16}),children:[e.jsx("h4",{className:a({m:0}),children:s(`How to set up ${t}`)}),e.jsx("ol",{children:i.map((x,m)=>e.jsx("li",{children:e.jsx(Me,{msg:x,fs:16})},`guide-id-${m+8}`))})]})}function Ie({ver:t}){const{css:a}=S(),[i,x]=E(Re),[m,f]=E($e),b=q(B),[r,o]=y.useState({show:!1}),[j,d]=y.useState(!1),p=t==="v2"?"reCaptchaV2":"reCaptchaV3",N=n=>{d(!0),A({reCaptcha:n==="v2"?i:m,integrationName:"google reCaptcha",integrationType:n==="v2"?"gReCaptcha":"gReCaptchaV3"},"bitforms_save_grecaptcha").then(h=>{h!==void 0&&h.success&&(h.data&&h.data.id&&(n==="v2"?x(Q(C({},i),{id:h.data.id})):n==="v3"&&f(Q(C({},m),{id:h.data.id}))),o({show:!0,msg:s("Captcha Settings Updated")})),d(!1)}).catch(()=>d(!1))},l=(n,u)=>{if(u==="v2"){const c=se(i);c[n.target.name]=n.target.value,x(c)}else if(u==="v3"){const c=se(m);c[n.target.name]=n.target.value,f(c)}},w=b.siteURL.replace(/(^\w+:|^)\/\//,"");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:a({ow:"hidden"}),children:[e.jsx($,{snack:r,setSnackbar:o}),e.jsxs("div",{className:a({flx:"center-between"}),children:[e.jsx("h2",{children:s(`Google reCAPTCHA ${t}`)}),e.jsx(ee,{to:"/app-settings/recaptcha",className:`${a(D.btn)} btn-md blue`,children:"Back"})]}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:`btcd-captcha ${a({m:5})}`,children:[e.jsxs("small",{children:[s("reCAPTCHA is a free service that protects your website from spam and abuse."),e.jsxs("a",{className:"btcd-link",href:`https://developers.google.com/recaptcha/docs/${t==="v3"?"v3":"display"}`,target:"_blank",rel:"noopener noreferrer",children:[" ",s("Learn More")]})]}),e.jsx("br",{}),e.jsx("div",{className:"mt-3",children:s("Domain URL:")}),e.jsx(Z,{value:w,className:"field-key-cpy ml-0"}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"captcha-key",children:[s("Site Key"),e.jsx("input",{id:"captcha-key",onChange:n=>l(n,t),name:"siteKey",className:"btcd-paper-inp mt-1",value:(t==="v3"?m:i).siteKey,placeholder:"Site Key",type:"text"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"captcha-secret",children:[s("Secret Key"),e.jsx("input",{id:"captcha-secret",onChange:n=>l(n,t),name:"secretKey",className:"btcd-paper-inp mt-1",value:(t==="v3"?m:i).secretKey,placeholder:"Secret Key",type:"text"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("p",{children:[s("To get Site Key and SECRET , Please Visit")," ",e.jsx("a",{className:"btcd-link",href:"https://www.google.com/recaptcha/admin/",target:"_blank",rel:"noreferrer",children:s("Google reCAPTCHA Admin")})]})}),e.jsxs("button",{onClick:()=>N(t),type:"button",className:`${a(D.btn)} btn-md f-right blue`,disabled:j,children:[(t==="v2"?i!=null&&i.id:m!=null&&m.id)?s("Update"):s("Save"),j&&e.jsx(R,{size:20,clr:"#fff",className:"ml-2"})]})]})]}),e.jsx(Ue,{type:p})]})}function vs(){const{css:t}=S(),a=y.useRef(null);y.useRef(null),y.useRef(null);const[i,x]=E(ze),m=q(B),[f,b]=y.useState({show:!1}),[r,o]=y.useState(!1),j=m.siteURL.replace(/(^\w+:|^)\/\//,""),d=({target:N})=>{const{name:l,value:w}=N,n=se(i);n[l]=w,x(n)},p=()=>{o(!0),A({reCaptcha:i,integrationName:"turnstile reCaptcha",integrationType:"turnstileCaptcha"},"bitforms_save_grecaptcha").then(l=>{l!==void 0&&l.success&&(l.data&&l.data.id&&x(Q(C({},i),{id:l.data.id})),b({show:!0,msg:s("Captcha Settings Updated")})),o(!1)}).catch(()=>o(!1))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:t({ow:"hidden"}),children:[e.jsx($,{snack:f,setSnackbar:b}),e.jsxs("div",{className:t({flx:"center-between"}),children:[e.jsx("h2",{children:s("Cloudflare Turnstile reCAPTCHA")}),e.jsx(ee,{to:"/app-settings/recaptcha",className:`${t(D.btn)} btn-md blue`,children:"Back"})]}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:`btcd-captcha ${t({m:5})}`,children:[e.jsxs("small",{children:[s("reCAPTCHA is a free service that protects your website from spam and abuse."),e.jsxs("a",{className:"btcd-link",href:"https://developers.cloudflare.com/turnstile/",target:"_blank",rel:"noopener noreferrer",children:[" ",s("Learn More")]})]}),e.jsx("br",{}),e.jsx("div",{className:"mt-3",children:s("Domain URL:")}),e.jsx(Z,{value:j,className:"field-key-cpy ml-0"}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"captcha-key",children:[s("Site Key"),e.jsx("input",{id:"captcha-key",onChange:N=>d(N),name:"siteKey",className:"btcd-paper-inp mt-1",value:i==null?void 0:i.siteKey,placeholder:"Site Key",type:"text"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"captcha-secret",children:[s("Secret Key"),e.jsx("input",{id:"captcha-secret",onChange:N=>d(N),name:"secretKey",className:"btcd-paper-inp mt-1",value:i.secretKey,placeholder:"Secret Key",type:"text"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("p",{children:[s("To get Site Key and Secret, Please Visit")," ",e.jsx("a",{className:"btcd-link",href:"https://dash.cloudflare.com/?to=/:account/turnstile",target:"_blank",rel:"noreferrer",children:s("Cloudflare Turnstile reCAPTCHA Admin")})]})}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"turnstile-wrp",ref:a,children:e.jsx("div",{className:"turnstile-captcha-preview"})})}),e.jsxs("button",{onClick:()=>p(),type:"button",className:`${t(D.btn)} btn-md f-right blue`,disabled:r,children:[i!=null&&i.id?s("Update"):s("Save"),r&&e.jsx(R,{size:20,clr:"#fff",className:"ml-2"})]})]})]}),e.jsx(Ue,{type:"Turnstile"})]})}function Ns(){return e.jsx("div",{className:"pb-6 w-7",children:e.jsxs(me,{children:[e.jsx(F,{index:!0,element:e.jsx(js,{})}),e.jsx(F,{path:"reCaptchaV2",element:e.jsx(Ie,{ver:"v2"})}),e.jsx(F,{path:"reCaptchaV3",element:e.jsx(Ie,{ver:"v3"})}),e.jsx(F,{path:"turnstile",element:e.jsx(vs,{})})]})})}function ws({paySetting:t,handleInput:a}){const{css:i}=S(),x=X();return e.jsxs("div",{children:[e.jsxs("div",{className:i({flx:"center-between"}),children:[e.jsx("h2",{children:s("Mollie Settings")}),e.jsx(O,{size:"sm",onClick:()=>x("/app-settings/payments"),variant:"secondary",children:"Back"})]}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Integration Name:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Integration Name",value:t.name||"",name:"name",onChange:a})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("API key:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"API key",value:t.apiKey||"",name:"apiKey",onChange:a})]}),e.jsx("div",{className:"flx",children:e.jsxs("small",{className:"d-blk mt-2",style:{marginLeft:170},children:[s("To get API key, Please Visit")," ",e.jsx("a",{className:"btcd-link",href:"https://www.mollie.com/dashboard/developers/api-keys",target:"_blank",rel:"noreferrer",children:s("Mollie Developer Dashboard")})]})})]})}var ks={mollie:["Choose a unique name to identify this integration within your app.","Login to you Mollie account (or create on if you haven't already).",'<a className="btcd-link" href="https://www.mollie.com/dashboard/developers/api-keys" target="_blank" rel="noreferrer">Go to your Mollie Dashboard</a> and find the API section.',"Generate a new API key or use an existing one (you can use test API key for testing purposes). This key is required for authenticating API requests.","Copy the API key and paste it in the Bit Form <strong>API key</strong> field above.","Then click on the <strong>Save</strong> button to save the settings.","Please go to your form now and add a Mollie payment field.",'For more details, please visit the <a className="btcd-link" href="#" target="_blank" rel="noreferrer">Bit form Mollie Payment Gateway documentation</a>.'],paypal:["Choose a unique name to identify this integration within your app.","Login to you PayPal account (or create on if you haven't already).",'<a className="btcd-link" href="https://developer.paypal.com/developer/applications/" target="_blank" rel="noreferrer">Go to your PayPal Dashboard</a> and find the API section.',"Select Transaction Mode (Live or Sandbox).","Copy the <strong>Client Id</strong> and <strong>Client Secret</strong> from PayPal Dashboard and paste it in the Bit Form <strong>Client Id</strong> and <strong>Client Secret</strong> field above (you can use Sandbox or Live mode).","Then click on the <strong>Save</strong> button to save the settings.","Please go to your form now and add a PayPal payment field.",'For more details, please visit the <a className="btcd-link" href="https://bitapps.pro/docs/bit-form/form-fields/paypal-field/" target="_blank" rel="noreferrer">Bit form PayPal Payment Gateway documentation</a> and watch <a className="btcd-link" href="https://youtu.be/nN0U569jhRU?si=Alr666Ms5XAoLEip" target="_blank" rel="noreferrer">PayPal Integrations Video</a>.'],stripe:["Choose a unique name to identify this integration within your app.","Login to you Stripe account (or create on if you haven't already).",'<a className="btcd-link" href="https://dashboard.stripe.com/apikeys" target="_blank" rel="noreferrer">Go to your Stripe Dashboard</a> and find the API Key section.',"Copy the <strong>Publishable Key</strong> and <strong>Secret Key</strong> from Stripe API Dashboard and paste it in the Bit Form <strong>Publishable Key</strong> and <strong>Secret Key</strong> field above (you can use test API key for testing purposes).","Then click on the <strong>Save</strong> button to save the settings.","Please go to your form now and add a Stripe payment field.",'For more details, please visit the <a className="btcd-link" href="https://bitapps.pro/docs/bit-form/form-fields/stripe-field/" target="_blank" rel="noreferrer">Bit form Stripe Payment Gateway documentation</a> and watch <a className="btcd-link" href="https://youtu.be/mSlEG6412bM?si=qkIF5-KtU3zPyUYa" target="_blank" rel="noreferrer">Stripe Integrations Video</a>.'],razorpay:["Choose a unique name to identify this integration within your app.","Login to you Razorpay account (or create on if you haven't already).",'<a className="btcd-link" href="https://dashboard.razorpay.com/app/keys" target="_blank" rel="noreferrer">Go to your Razorpay Dashboard</a> and find the API Key section.',"Copy the <strong>API Key</strong> and <strong>API Secret</strong> from Razorpay API Dashboard and paste it in the Bit Form <strong>API Key</strong> and <strong>API Secret</strong> field above.","Then click on the <strong>Save</strong> button to save the settings.","Please go to your form now and add a Razorpay payment field.",'For more details, please visit the <a className="btcd-link" href="https://bitapps.pro/docs/bit-form/form-fields/razorpay-field/" target="_blank" rel="noreferrer">Bit form Razorpay Payment Gateway documentation</a> and watch <a className="btcd-link" href="https://youtu.be/o1pNfKn2ZNU?si=YZDrkwpLrjKb8TZa" target="_blank" rel="noreferrer">Razorpay Integrations Video</a>..']};function Cs({type:t}){const{css:a}=S(),i=ks[t.toLowerCase()]||[];return e.jsxs("div",{className:a({mt:"30px",fs:20}),children:[e.jsx("h4",{children:s(`How to set up ${t} Payment Gateway`)}),e.jsx("ol",{children:i.map((x,m)=>e.jsx("li",{children:e.jsx(Me,{msg:x})},`guide-id-${m+8}`))})]})}function Ss({paySetting:t,handleInput:a}){const{css:i}=S(),x=X();return e.jsxs("div",{children:[e.jsxs("div",{className:i({flx:"center-between"}),children:[e.jsx("h2",{children:s("PayPal Settings")}),e.jsx(O,{size:"sm",onClick:()=>x("/app-settings/payments"),variant:"secondary",children:"Back"})]}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Integration Name:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Integration Name",value:t.name||"",name:"name",onChange:a})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-150 mr-2",children:s("Transaction Mode:")}),e.jsx(L,{radio:!0,name:"mode",onChange:a,checked:t.mode==="sandbox",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Sandbox"})}),value:"sandbox"}),e.jsx(L,{radio:!0,name:"mode",onChange:a,checked:t.mode==="live",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Live"})}),value:"live"})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Client ID:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Client ID",value:t.clientID||"",name:"clientID",onChange:a})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Client Secret:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Client Secret",value:t.clientSecret||"",name:"clientSecret",onChange:a})]}),e.jsx("div",{className:"flx",children:e.jsxs("small",{className:"d-blk mt-2",style:{marginLeft:170},children:[s("To get Client ID & Secret, Please Visit")," ",e.jsx("a",{className:"btcd-link",href:"https://developer.paypal.com/developer/applications/",target:"_blank",rel:"noreferrer",children:s("PayPal Developer Dashboard")})]})})]})}function _s({paySetting:t,handleInput:a}){const{css:i}=S(),x=X();return e.jsxs("div",{children:[e.jsxs("div",{className:i({flx:"center-between"}),children:[e.jsx("h2",{children:s("Razorpay Settings")}),e.jsx(O,{size:"sm",onClick:()=>x("/app-settings/payments"),variant:"secondary",children:"Back"})]}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-150",children:s("Integration Name:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Integration Name",value:t.name,name:"name",onChange:a})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-150",children:s("API Key:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"API Key",value:t.apiKey,name:"apiKey",onChange:a})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-150",children:s("API Secret:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"API Secret",value:t.apiSecret,name:"apiSecret",onChange:a})]}),e.jsx("div",{className:"flx",children:e.jsxs("small",{className:"d-blk mt-5",style:{marginLeft:130},children:[s("To get API Key & Secret, Please Visit")," ",e.jsx("a",{className:"btcd-link",href:"https://dashboard.razorpay.com/app/keys",target:"_blank",rel:"noreferrer",children:s("Razorpay Dashboard")})]})})]})}function Ps({paySetting:t,handleInput:a}){const{css:i}=S(),x=X();return e.jsxs("div",{children:[e.jsxs("div",{className:i({flx:"center-between"}),children:[e.jsx("h2",{children:s("Stripe Settings")}),e.jsx(O,{size:"sm",onClick:()=>x("/app-settings/payments"),variant:"secondary",children:"Back"})]}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Integration Name:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Integration Name",value:t.name||"",name:"name",onChange:a})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Publishable key:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Publishable key",value:t.publishableKey||"",name:"publishableKey",onChange:a})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Secret Key:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Secret Key",value:t.clientSecret||"",name:"clientSecret",onChange:a})]}),e.jsx("div",{className:"flx",children:e.jsxs("small",{className:"d-blk mt-2",style:{marginLeft:170},children:[s("To get Publishable key & Secret key, Please Visit")," ",e.jsx("a",{className:"btcd-link",href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noreferrer",children:s("Stripe Developer Dashboard")})]})})]})}function Ae({allIntegURL:t}){const a=q(B),{isPro:i}=a,[x,m]=E(Ke),{type:f,indx:b}=We(),r=X(),[o,j]=y.useState(!1),[d,p]=y.useState({show:!1}),{css:N}=S(),[l,w]=y.useState(b&&(x!=null&&x[b])?C({},x[b]):{type:f,name:f});l.type!==f&&r(t);const n=h=>{const{name:v,value:k}=h.target,_=C({},l);_[v]=k,w(_)},u=()=>{let h=!1;const v=C({},l);switch(f){case"PayPal":(!v.name||!v.clientID||!v.clientSecret||!v.mode)&&(h=!0);break;case"Razorpay":(!v.apiKey||!v.apiSecret||!v.name)&&(h=!0);break;case"Stripe":(!v.name||!v.publishableKey||!v.clientSecret)&&(h=!0);break;case"Mollie":(!v.name||!v.apiKey)&&(h=!0);break;default:console.log("not found");break}return h},c=()=>{if(!a.isPro)return;const h=C({},l);if(u()){p({show:!0,msg:s("All fields are required")});return}j(!0),A({paySetting:l},"bitforms_save_payment_setting").then(v=>{if(v!==void 0&&v.success){v.data&&v.data.id&&(h.id=v.data.id),w(h);const k=se(x);b?k[b]=h:k.push(h),m(k),p({show:!0,msg:s(v.data.message)}),r("/app-settings/payments")}else p({show:!0,msg:s(v.data)});j(!1)})};return e.jsxs("div",{className:"pos-rel",children:[!i&&e.jsx("div",{className:"pro-blur flx",style:{top:-5,left:-10,height:"140%",width:"102%"},children:e.jsxs("div",{className:"pro",children:[s("Available On"),e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsx("span",{className:"txt-pro",children:s("Premium")})})]})}),e.jsx($,{snack:d,setSnackbar:p}),{PayPal:e.jsx(Ss,{paySetting:l,setPaySetting:w,handleInput:n}),Razorpay:e.jsx(_s,{paySetting:l,setPaySetting:w,handleInput:n}),Stripe:e.jsx(Ps,{paySetting:l,setPaySetting:w,handleInput:n}),Mollie:e.jsx(ws,{paySetting:l,setPaySetting:w,handleInput:n})}[f],e.jsxs(O,{onClick:c,disabled:o,className:N(Xe.ftRight),shadow:!0,children:[s("Save"),o&&e.jsx(R,{size:20,clr:"#fff",className:"ml-2"})]}),e.jsx(Cs,{type:f})]})}var Ts=""+new URL("bf-201-12.svg",import.meta.url).href,Is=""+new URL("bf-859-9.svg",import.meta.url).href,As=""+new URL("bf-739-10.svg",import.meta.url).href,Fs=""+new URL("bf-387-11.svg",import.meta.url).href;function Ls({setSnackbar:t}){const a=X(),[i,x]=y.useState(!1),[m,f]=y.useState({show:!1}),{css:b}=S(),[r,o]=E(Ke),{pathname:j}=de(),d=[{type:"PayPal",logo:Is},{type:"Razorpay",logo:As},{type:"Stripe",logo:Fs},{type:"Mollie",logo:Ts}],p=c=>{if(!I)return te.error("This payment is only available in Bit Form Pro."),!1;x(!1),a(`${j}/${c}`)},N=c=>{for(let h=0;h<d.length;h+=1)if(d[h].type===c)return e.jsx("img",{src:d[h].logo,alt:c,className:b(P.integLogo)});return null},l=c=>{const h=C({},r[c]),v=se(r);v.splice(c,1),o(v),A({formID:0,id:h.id},"bitforms_delete_integration").then(k=>{k&&k.success?t({show:!0,msg:`${k.data.message}`}):k&&k.data&&k.data.data?(v.splice(c,0,h),o([...v]),t({show:!0,msg:`${s("Integration deletion failed Cause")}:${k.data.data}. ${s("please try again")}`})):(v.splice(c,0,h),o([...v]),t({show:!0,msg:s("Integration deletion failed. please try again")}))})},w=()=>{m.show=!1,f(C({},m))},n=(c,h)=>{c.stopPropagation(),m.btnTxt=s("Delete"),m.body=s("Are you sure to delete this integration?"),m.btnClass="",m.action=()=>{l(h),w()},m.show=!0,f(C({},m))},u=(c,h)=>a(`${j}/${c}/${h}`);return e.jsxs(e.Fragment,{children:[e.jsx(Le,{show:m.show,close:w,btnTxt:m.btnTxt,btnClass:m.btnClass,body:m.body,action:m.action}),e.jsx("h2",{children:s("Available Payment Gateways")}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:`pos-rel ${b(P.availablePayment)}`,children:[e.jsxs("p",{className:b({py:5,fs:16,m:0}),children:[e.jsx("strong",{children:"Note: "}),"Please click on the available payment gateway option for configuration."]}),e.jsx("div",{className:"flx flx-center flx-wrp pb-3",children:d.map((c,h)=>e.jsxs("div",{onClick:()=>I&&p(c.type),onKeyDown:()=>I&&p(c.type),role:"button",tabIndex:"0",className:`${b(P.thumb)} ${c.disable&&!I&&b(P.integCardDisabled)}`,children:[!I&&e.jsx("div",{className:b(P.thumbPro),children:e.jsxs("a",{className:b(P.thumbProTxt),href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:[s("Available on"),e.jsx("br",{}),s("Pro")]})}),e.jsx("img",{className:b(P.thumbImg),loading:"lazy",src:c.logo,alt:""}),e.jsx("div",{className:b(P.thumbTitle),children:c.type})]},`payment-${h+2}`))})]}),e.jsx("h2",{children:s("Connected Accounts")}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:b({mt:20,flx:"align-center"}),children:[r==null?void 0:r.map((c,h)=>e.jsxs("div",{role:"button",onClick:()=>u(c.type,h),className:b(P.itegCard),children:[N(c.type),e.jsxs("div",{className:"py-1",title:`${c.name} | ${c.type}`,children:[e.jsx("div",{className:b(P.integTitle),children:c.name}),e.jsx("small",{className:b(P.integSubtitle),children:c.type})]}),e.jsxs("div",{className:`${b(P.actionWrp)} action-wrp`,children:[e.jsx(oe,{msg:s("Edit"),children:e.jsx(ee,{to:`${j}/${c.type}/${h}`,className:`${b(P.actionBtn)}`,type:"button",children:e.jsx(De,{size:19})})}),e.jsx(oe,{msg:s("Delete"),children:e.jsx("button",{className:`${b(P.actionBtn)}`,onClick:v=>n(v,h),type:"button",children:e.jsx(Je,{size:18})})})]})]},`pay-${h+3}`)),r.length===0&&e.jsx("h2",{className:b({mt:20,cr:"red"}),children:s("Currently, no payment gateway has been connected.")})]})]})}function Ds(){const t=de(),[a,i]=y.useState({show:!1}),x=y.useRef(t.pathname).current;return e.jsxs("div",{className:"pb-6 w-7",children:[e.jsx($,{snack:a,setSnackbar:i}),e.jsxs(me,{children:[e.jsx(F,{index:!0,element:e.jsx(Ls,{setSnackbar:i})}),e.jsx(F,{path:":type",element:e.jsx(Ae,{allIntegURL:x})}),e.jsx(F,{path:":type/:indx",element:e.jsx(Ae,{allIntegURL:x})})]})]})}function Rs(){var n,u,c,h,v,k,_,M,ae,ue,xe,be,ge,fe,je,ye,ve,Ne,we;const[t,a]=E(B),{isPro:i}=t,[x,m]=y.useState({show:!1}),[f,b]=y.useState(!1),[r,o]=y.useState({paperSize:"a4",orientation:"p",font:{name:"DejaVuSansCondensed",fontFamily:"dejavusanscondensed"},fontSize:10,fontColor:"#000000",direction:"ltr",fontFamily:"aboriginalsansregular",pdfFileName:"bitform",watermark:{}}),{mutate:j}=J("bitforms_get_pdf_setting",{},{fetchCondition:I,onSuccess:g=>{if(g!=null&&g.integration_details){const T=JSON.parse(g.integration_details);T.id=g.id,o(T)}}}),{css:d}=S(),p=(g,T)=>{let U=T;o(G=>H(G,z=>{g==="font"&&(U=re.find(ne=>ne.name===T)),_e(z,g,U)}))},N=(g,T)=>{o(U=>H(U,G=>{g.target.checked?G.watermark.active=T:delete G.watermark.active}))},l=()=>{var U,G;if(!i)return;const g=re.find(z=>z.name===r.font.name);r.fontFamily=g.fontFamily,((U=r.watermark)==null?void 0:U.active)==="txt"&&delete r.watermark.img,((G=r.watermark)==null?void 0:G.active)==="img"&&delete r.watermark.txt;const T=C({},r);b(!0),A({pdfSetting:r},"bitforms_save_pdf_setting").then(z=>{z!==void 0&&z.success&&(z.data&&z.data.id&&(T.id=z.data.id),a(ke=>H(ke,ne=>{ne.allFormSettings.pdf=T,ne.downloadedPdfFonts.push(T.font.name)})),o(T),j(T)),m({show:!0,msg:`${z.data.message}`}),b(!1)})},w=()=>{if(typeof wp!="undefined"&&wp.media){const g=wp.media({title:"Media",button:{text:"Select picture"},library:{type:"image"},multiple:!1});g.on("select",()=>{const{url:T}=g.state().get("selection").first().toJSON(),U=H(r,G=>{_e(G,"watermark->img->src",T)});o(U)}),g.open()}};return e.jsx("div",{className:"btcd-captcha mb-4",children:e.jsxs("div",{className:"pos-rel",children:[!i&&e.jsx("div",{className:"pro-blur flx",style:{height:"110%",left:-15,width:"104%",top:-3},children:e.jsx("div",{className:"pro",children:e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",s("Available On Pro")]})})})}),e.jsx($,{snack:x,setSnackbar:m}),e.jsxs("p",{className:d({fs:15}),children:[e.jsx("strong",{children:s("Note: ")}),s("This global settings will be set as the default for any new PDF attachment generated from your forms.")," ",e.jsx("strong",{children:s("Remember,")})," ",s(`If you haven't used PDFs yet, you'll need to click the "Save" button to apply these global PDF settings. You can also customize settings for a specific PDF template by accessing the PDF templates in your form settings.`)]}),e.jsx("div",{className:"btcd-hr"}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"paper_size",children:[e.jsx("b",{children:s("Paper Size")}),e.jsx("select",{id:"paper_size",name:"paperSize",onChange:g=>p(g.target.name,g.target.value),value:r.paperSize,className:"btcd-paper-inp mt-1",children:is.map((g,T)=>e.jsx("option",{value:g.value,children:g.label},`${T}-${g.val}`))})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"orientation",children:[e.jsx("b",{children:s("Orientation")}),e.jsxs("select",{id:"orientation",name:"orientation",onChange:g=>p(g.target.name,g.target.value),value:r.orientation,className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"p",children:s("Portrait")}),e.jsx("option",{value:"l",children:s("Landscape")})]})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"font",children:[e.jsx("b",{children:s("Font Family")}),e.jsx("select",{id:"font",name:"font",onChange:g=>p(g.target.name,g.target.value),value:r.font.name,className:"btcd-paper-inp mt-1",children:re.map((g,T)=>e.jsx("option",{value:g.name,children:g.name},`${T}-${g.name}`))})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"fontSize",children:[e.jsx("b",{children:s("Font Size (Pixels)")}),e.jsx("input",{id:"fontSize",name:"fontSize",onChange:g=>p(g.target.name,g.target.value),value:r.fontSize,className:"btcd-paper-inp mt-1",placeholder:"Font Size",type:"number"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"active",children:[e.jsx("b",{children:s("Watermark")}),e.jsx(L,{name:"active",onChange:g=>N(g,"txt"),checked:((n=r==null?void 0:r.watermark)==null?void 0:n.active)==="txt",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:s("Text")})})}),e.jsx(L,{name:"active",onChange:g=>N(g,"img"),checked:((u=r==null?void 0:r.watermark)==null?void 0:u.active)==="img",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:s("Image")})})})]})}),((c=r.watermark)==null?void 0:c.active)&&e.jsxs("div",{className:d(le.bdr),children:[r.watermark.active==="txt"&&e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkText",children:[e.jsx("b",{children:s("Watermark Text")}),e.jsx("input",{id:"watermarkText",name:"watermarkText",onChange:g=>p("watermark->txt",g.target.value),value:(h=r==null?void 0:r.watermark)==null?void 0:h.txt,className:"btcd-paper-inp mt-1",placeholder:"Watermark Text",type:"text"})]})}),r.watermark.active==="img"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkImg",className:d({flx:"align-center"}),children:[e.jsx("b",{children:s("Watermark Image")}),e.jsx(O,{className:"ml-2",onClick:w,children:s("Upload")}),e.jsx("img",{className:d(le.img),src:(k=(v=r.watermark)==null?void 0:v.img)==null?void 0:k.src,alt:""})]})}),e.jsxs("div",{className:d(le.size),children:[e.jsxs("label",{htmlFor:"width",className:d({w:300}),children:[e.jsx("b",{children:s("Width")}),e.jsx("input",{id:"width",onChange:g=>p("watermark->img->width",g.target.value),value:(M=(_=r==null?void 0:r.watermark)==null?void 0:_.img)==null?void 0:M.width,className:"btcd-paper-inp mt-1",placeholder:"Image width",type:"number"})]}),e.jsxs("label",{htmlFor:"height",className:d({w:300}),children:[e.jsx("b",{children:s("Height")}),e.jsx("input",{id:"height",onChange:g=>p("watermark->img->height",g.target.value),value:(ue=(ae=r==null?void 0:r.watermark)==null?void 0:ae.img)==null?void 0:ue.height,className:"btcd-paper-inp mt-1",placeholder:"Image height",type:"number"})]})]}),e.jsxs("div",{className:d(le.size),children:[e.jsxs("label",{htmlFor:"posX",className:d({w:300}),children:[e.jsx("b",{children:s("Position X (Units in millimeters)")}),e.jsx("input",{id:"posX",onChange:g=>p("watermark->img->posX",g.target.value),value:(be=(xe=r==null?void 0:r.watermark)==null?void 0:xe.img)==null?void 0:be.posX,className:"btcd-paper-inp mt-1",placeholder:"Position x",type:"number"})]}),e.jsxs("label",{htmlFor:"posY",className:d({w:300}),children:[e.jsx("b",{children:s("Position Y (Units in millimeters)")}),e.jsx("input",{id:"posY",onChange:g=>p("watermark->img->posY",g.target.value),value:(fe=(ge=r==null?void 0:r.watermark)==null?void 0:ge.img)==null?void 0:fe.posY,className:"btcd-paper-inp mt-1",placeholder:"Position Y",type:"number"})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"imgBehind",children:[e.jsx("b",{children:s("Show watermark behind the page content")}),e.jsx(L,{radio:!0,name:"imgBehind",onChange:g=>p("watermark->img->imgBehind",g.target.value),checked:((ye=(je=r==null?void 0:r.watermark)==null?void 0:je.img)==null?void 0:ye.imgBehind)==="true",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:s("Yes")})}),value:"true"}),e.jsx(L,{radio:!0,name:"imgBehind",onChange:g=>p("watermark->img->imgBehind",g.target.value),checked:((Ne=(ve=r==null?void 0:r.watermark)==null?void 0:ve.img)==null?void 0:Ne.imgBehind)==="false",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:s("No")})}),value:"false"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"opacity",children:[e.jsx("b",{children:s("Opacity (0-100)")}),e.jsx("input",{id:"opacity",name:"alpha",onChange:g=>p("watermark->alpha",g.target.value),value:(we=r==null?void 0:r.watermark)==null?void 0:we.alpha,className:"btcd-paper-inp mt-1",placeholder:"Opacity",max:"100",type:"number"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"direction",children:[e.jsx("b",{children:s("Language Direction")}),e.jsx(L,{radio:!0,name:"direction",onChange:g=>p(g.target.name,g.target.value),checked:r.direction==="ltr",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:s("LTR")})}),value:"ltr"}),e.jsx(L,{radio:!0,name:"direction",onChange:g=>p(g.target.name,g.target.value),checked:r.direction==="rtl",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:s("RTL")})}),value:"rtl"})]})}),e.jsxs(O,{onClick:()=>l(),className:"mt-2",children:[r.id?s("Update"):s("Save"),f&&e.jsx(R,{size:20,clr:"#fff",className:"ml-2"})]})]})})}const le={font:{flx:"align-center"},color:{b:"1px solid rgb(239 239 239) !important",w:30,h:30,ml:20},bdr:{pl:15},size:{flx:"align-center",mt:20,gp:40},img:{w:50,ml:20}};function $s({size:t=32}){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 16 16",children:e.jsx("path",{fill:"currentColor",d:"M4.51 2.6L.25 13.67h1.34l1.49-3.86h4l1.52 3.86h1.34L5.68 2.6a.63.63 0 0 0-1.17 0m-.95 6l1.54-4l1.53 4zm9.35-2.54a2.8 2.8 0 0 0-3 2.08l1.21.31a1.6 1.6 0 0 1 1.78-1.14c.77 0 1.59.26 1.59 1v.75c-.27 0-.63.09-.94.13a9.12 9.12 0 0 0-2.5.52a2.06 2.06 0 0 0-1.41 2.23a1.94 1.94 0 0 0 .88 1.44a3 3 0 0 0 1.62.43a4.39 4.39 0 0 0 1.36-.22a2.92 2.92 0 0 0 1-.52v.61h1.25V8.3c0-1.3-1.14-2.24-2.84-2.24m.22 6.33a2.4 2.4 0 0 1-1.91-.07a.64.64 0 0 1-.32-.52c-.1-.89.82-1.16 2.8-1.38l.76-.1c-.19 1.68-.94 1.94-1.33 2.07"})})}function zs({font:t}){const{css:a}=S(),[i,x]=y.useState({show:!1}),[m,f]=y.useState(!1),[b,r]=E(B),o=b.downloadedPdfFonts.includes(t.name),j=d=>{f(!0),A({fontName:d},"bitforms_download_pdf_font").then(p=>{p!==void 0&&p.success&&r(N=>H(N,l=>{const w=N.downloadedPdfFonts;console.log(w,d),w&&!(w!=null&&w.includes(d))?l.downloadedPdfFonts.push(d):l.downloadedPdfFonts=[d]})),x({show:!0,msg:`${p.data.message}`}),f(!1)}).catch(p=>{console.log(p),x({show:!0,msg:"Something went wrong!"}),f(!1)})};return e.jsxs("div",{className:`${a(Fe.block)} w-10`,children:[e.jsx($,{snack:i,setSnackbar:x}),e.jsxs("div",{className:a(Fe.name),children:[e.jsx("div",{className:a({mr:10}),children:e.jsx($s,{size:"18"})}),e.jsx("div",{children:t.name})]}),e.jsxs(O,{size:"sm",onClick:()=>j(t.name),variant:o?"success":"primary",children:[o?"Downloaded":"Download"," ",m&&e.jsx(R,{size:14,clr:"#fff",className:"ml-2"})]})]})}const Fe={block:{flx:"center-between",b:"1px solid #e0e0e0",p:"5px",brs:"8px",mb:"5px",":hover":{b:"1px solid rgb(0, 123, 255)",tn:"all 0.2s ease 0s"}},name:{flx:"align-center"}};function Ks(){const[t,a]=y.useState({show:!1}),[i,x]=E(B),{isPro:m}=i,{css:f}=S();return e.jsx("div",{className:"btcd-captcha mb-4",children:e.jsxs("div",{className:"pos-rel",children:[!m&&e.jsx("div",{className:"pro-blur flx",style:{height:"110%",left:-15,width:"104%",top:-3},children:e.jsx("div",{className:"pro",children:e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",s("Available On Pro")]})})})}),e.jsx($,{snack:t,setSnackbar:a}),e.jsx("div",{className:f(Ms.wrp),children:re.map((b,r)=>e.jsx(zs,{font:b},`font-${r+1}`))})]})})}const Ms={wrp:{h:"80vh",owy:"scroll",w:"500px",pr:10}};function Us(){return e.jsx("div",{className:"btcd-captcha",style:{padding:10},children:e.jsx("div",{className:"pos-rel",children:e.jsxs(he,{selectedTabClassName:"s-t-l-active",children:[e.jsxs(pe,{className:"flx",children:[e.jsx(Y,{className:"btcd-s-tab-link",children:e.jsx("b",{children:s("PDF Global Setting")})}),e.jsx(Y,{className:"btcd-s-tab-link",children:e.jsx("b",{children:s("Available Font for PDF")})})]}),e.jsx(W,{children:e.jsx(Rs,{})}),e.jsx(W,{children:e.jsx(Ks,{})})]})})})}function Gs({settab:t}){const[a,i]=y.useState(!1),{css:x}=S(),m=y.useRef(null),f=b=>{const r=new FormData(m.current);b.preventDefault(),i(!0);const o=A(r,"bitforms_test_email").then(j=>{var d,p,N,l;return i(!1),j!==void 0&&j.success?j.data?s("Email sent successfully."):s(`${(p=(d=j==null?void 0:j.data)==null?void 0:d.errors)==null?void 0:p[0]}`):s(`${(l=(N=j==null?void 0:j.data)==null?void 0:N.errors)==null?void 0:l[0]}`)});te.promise(o,{success:j=>j,loading:s("Sending..."),error:j=>j})};return e.jsxs("div",{children:[e.jsx("h2",{children:s("Email Test")}),e.jsx("div",{children:e.jsxs("form",{method:"POST",onSubmit:f,ref:m,onKeyDown:b=>{b.key==="Enter"&&b.target.tagName!=="TEXTAREA"&&b.preventDefault()},children:[e.jsxs("div",{className:"mt-2 flx",children:[e.jsx("label",{htmlFor:"form_email_address",className:"mr-2 wdt-150",children:e.jsx("b",{children:s("To:")})}),e.jsx("input",{id:"form_email_address",name:"to",className:"btcd-paper-inp",placeholder:"Email",type:"email",required:!0})]}),e.jsxs("div",{className:"mt-2 flx",children:[e.jsx("label",{htmlFor:"subject",className:"mr-2 wdt-150",children:e.jsx("b",{children:s("Subject:")})}),e.jsx("input",{id:"subject",name:"subject",className:"btcd-paper-inp",placeholder:"Subject",type:"text",required:!0})]}),e.jsxs("div",{className:"mt-2 flx",children:[e.jsx("label",{htmlFor:"message",className:"mr-2 wdt-150",children:e.jsx("b",{children:s("Message:")})}),e.jsx("input",{id:"message",name:"message",className:"btcd-paper-inp",placeholder:"Message",type:"text",required:!0})]}),e.jsxs("button",{type:"submit",className:`${x(D.btn)} f-left btcd-btn-lg blue sh-sm flx`,disabled:a,children:[s("Send Test Mail"),a&&e.jsx(R,{size:20,clr:"#fff",className:"ml-2"})]})]})})]})}function Es({mail:t,setMail:a,status:i,smtpStatus:x}){const[m,f]=y.useState(!1),[b,r]=y.useState(!0),[o,j]=y.useState(!0),{css:d}=S();y.useEffect(()=>{r(Number(i)===1),j(Number(t.smtp_auth)===1)},[i,t.smtp_auth]);const p=y.useRef(null),N=n=>{const u=new FormData(p.current);n.preventDefault(),f(!0);const c=A(u,"bitforms_mail_config").then(h=>{h!==void 0&&h.success&&f(!1)});te.promise(c,{success:s("SMTP config saved successfully."),loading:s("Saving..."),error:s("Something went wrong, Try again.")})},l=(n,u,c)=>{const h=C({},t);c?h[n]=Number(u):h[n]=u,n==="smtp_auth"&&u==="1"?j(!0):n==="smtp_auth"&&u==="0"&&j(!1),n==="encryption"&&u==="tls"?h.port="587":n==="encryption"&&u==="ssl"?h.port="465":n==="encryption"&&u==="none"&&(h.port="25"),a(h)},w=n=>{const u=Number(n.target.value);x(u),r(u===1)};return e.jsxs("form",{method:"POST",onSubmit:N,ref:p,onKeyDown:n=>{n.key==="Enter"&&n.target.tagName!=="TEXTAREA"&&n.preventDefault()},children:[e.jsx("small",{className:"d-blk mt-3",children:e.jsx("a",{className:"btcd-link",href:"https://bitapps.pro/docs/bit-form/form-settings/#smtp-configuration",target:"_blank",rel:"noreferrer",children:s("Learn more about SMTP configuration")})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"status",children:[e.jsx("b",{children:s("Enable SMTP")}),e.jsx(L,{radio:!0,name:"status",onChange:n=>w(n),checked:i===1,title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Yes"})}),value:"1"}),e.jsx(L,{radio:!0,name:"status",onChange:n=>w(n),checked:i!==1,title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"No"})}),value:"0"})]})}),e.jsxs("div",{style:{height:b?"auto":"0px",transition:"height 300ms",overflow:"hidden",padding:"5px"},children:[e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"form_email_address",children:[e.jsx("b",{children:s("From Email Address")}),e.jsx("input",{id:"form_email_address",onChange:n=>l(n.target.name,n.target.value),name:"form_email_address",className:"btcd-paper-inp mt-1",value:t.form_email_address,placeholder:"From Email Address",type:"email",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"from_name",children:[e.jsx("b",{children:s("From Name")}),e.jsx("input",{id:"form_name",onChange:n=>l(n.target.name,n.target.value),value:t.form_name,name:"form_name",className:"btcd-paper-inp mt-1",placeholder:"From Name",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"re_email_address",children:[e.jsx("b",{children:s("Reply-To Email Address")}),e.jsx("input",{id:"re_email_address",onChange:n=>l(n.target.name,n.target.value),value:t.re_email_address,name:"re_email_address",className:"btcd-paper-inp mt-1",placeholder:"Reply-To Email Address",type:"email"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"smtp_host",children:[e.jsx("b",{children:s("SMTP Host")}),e.jsx("input",{id:"smtp_host",value:t.smtp_host,onChange:n=>l(n.target.name,n.target.value),name:"smtp_host",className:"btcd-paper-inp mt-1",placeholder:"SMTP Host",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"encryption",children:[e.jsx("b",{children:s("Type of Encryption")}),e.jsx(L,{radio:!0,name:"encryption",id:"encryption",onChange:n=>l(n.target.name,n.target.value),checked:t.encryption==="none",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"NONE"})}),value:"none"}),e.jsx(L,{radio:!0,name:"encryption",id:"encryption",onChange:n=>l(n.target.name,n.target.value),checked:t.encryption==="tls",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"TLS"})}),value:"tls"}),e.jsx(L,{radio:!0,name:"encryption",id:"encryption",onChange:n=>l(n.target.name,n.target.value),checked:t.encryption==="ssl",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"SSL"})}),value:"ssl"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"encryption",children:[e.jsx("b",{children:s("SMTP Port")}),e.jsx("input",{id:"port",value:t.port,onChange:n=>l(n.target.name,n.target.value),name:"port",className:"btcd-paper-inp mt-1",placeholder:"SMTP port",type:"number",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"encryption",children:[e.jsx("b",{children:s("SMTP Authentication")}),e.jsx(L,{radio:!0,name:"smtp_auth",onChange:n=>l(n.target.name,n.target.value),checked:t.smtp_auth==="1",title:e.jsx("small",{className:"txt-dp",children:"Yes"}),value:"1"}),e.jsx(L,{radio:!0,name:"smtp_auth",onChange:n=>l(n.target.name,n.target.value),checked:t.smtp_auth!=="1",title:e.jsx("small",{className:"txt-dp",children:"No"}),value:"0"})]})}),o&&e.jsxs("div",{children:[e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"smtp_user_name",children:[e.jsx("b",{children:s("SMTP Username")}),e.jsx("input",{id:"smtp_user_name",value:t.smtp_user_name,onChange:n=>l(n.target.name,n.target.value),name:"smtp_user_name",className:"btcd-paper-inp mt-1",placeholder:" SMTP Username",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"smtp_password",children:[e.jsx("b",{children:s("SMTP Password")}),e.jsx("input",{id:"smtp_password",onChange:n=>l(n.target.name,n.target.value),value:t.smtp_password,name:"smtp_password",className:"btcd-paper-inp mt-1",placeholder:"SMTP Password",type:"password",required:!0})]})})]})]}),e.jsxs("button",{type:"submit",className:`${d(D.btn)} btcd-btn-lg blue flx`,disabled:m,children:[s("Save Changes"),m&&e.jsx(R,{size:20,clr:"#fff",className:"ml-2"})]})]})}function Bs(){const[t,a]=y.useState({}),[i,x]=y.useState("");return J("bitforms_get_mail_config",{},{onSuccess:m=>{a(JSON.parse(m[0].integration_details)),x(Number(m[0].status))}}),e.jsx("div",{className:"btcd-captcha w-5",style:{padding:10},children:e.jsx("div",{className:"pos-rel",children:e.jsxs(he,{selectedTabClassName:"s-t-l-active",children:[e.jsxs(pe,{className:"flx",children:[e.jsx(Y,{className:"btcd-s-tab-link",children:e.jsx("b",{children:s("Configuration")})}),e.jsx(Y,{className:"btcd-s-tab-link",children:e.jsx("b",{children:s("Mail Test")})})]}),e.jsx(W,{children:e.jsx(Es,{mail:t,setMail:a,status:i,smtpStatus:x})}),e.jsx(W,{children:e.jsx(Gs,{})})]})})})}function at(){return e.jsxs("div",{className:"d-flx",children:[e.jsxs("aside",{className:"btcd-app-setting-sidebar mr-4",children:[e.jsxs(V,{to:"/app-settings/recaptcha",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx(rs,{size:"21",className:"mr-1"}),s("reCAPTCHA")]}),e.jsxs(V,{to:"/app-settings/gclid",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx("span",{className:"mr-1",children:e.jsx(as,{size:19})}),s("Google Ads")]}),e.jsxs(V,{to:"/app-settings/smtp",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx("span",{className:"mr-1",children:e.jsx(ns,{size:"21"})}),s("SMTP")]}),e.jsxs(V,{to:"/app-settings/pdf",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx(ls,{size:"18",className:"mr-2"}),e.jsx("span",{className:"ml-2",children:s("PDF")})]}),e.jsxs(V,{to:"/app-settings/cpt",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx("span",{className:"mr-1",children:e.jsx(Qe,{size:21})}),s("CPT")]}),e.jsxs(V,{to:"/app-settings/api",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx("span",{className:"mr-1",children:e.jsx(bs,{size:21})}),s("API")]}),e.jsxs(V,{to:"/app-settings/payments",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx(gs,{size:"16",className:"mr-2"}),e.jsx("span",{className:"ml-2",children:s("Payments")})]}),e.jsxs(V,{to:"/app-settings/general",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx(Ze,{size:"18",className:"mr-2"}),e.jsx("span",{className:"ml-2",children:s("General")})]})]}),e.jsxs(me,{children:[e.jsx(F,{index:!0,path:"recaptcha/*",element:e.jsx(Ns,{})}),e.jsx(F,{path:"gclid",element:e.jsx(us,{})}),e.jsx(F,{path:"smtp",element:e.jsx(Bs,{})}),e.jsx(F,{path:"cpt",element:e.jsx(ps,{})}),e.jsx(F,{path:"api",element:e.jsx(os,{})}),e.jsx(F,{path:"payments/*",element:e.jsx(Ds,{})}),e.jsx(F,{path:"general",element:e.jsx(xs,{})}),e.jsx(F,{path:"pdf",element:e.jsx(Us,{})})]})]})}export{at as default};
